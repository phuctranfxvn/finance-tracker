{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/felix/Documents/working/personal/finance-tracker/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client';\n\nconst prismaClientSingleton = () => {\n    return new PrismaClient();\n};\n\ntype PrismaClientSingleton = ReturnType<typeof prismaClientSingleton>;\n\nconst globalForPrisma = globalThis as unknown as {\n    prisma: PrismaClientSingleton | undefined;\n};\n\nconst prisma = globalForPrisma.prisma ?? prismaClientSingleton();\n\nexport default prisma;\n\nif (process.env.NODE_ENV !== 'production') globalForPrisma.prisma = prisma;\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,wBAAwB;IAC1B,OAAO,IAAI,sMAAY;AAC3B;AAIA,MAAM,kBAAkB;AAIxB,MAAM,SAAS,gBAAgB,MAAM,IAAI;uCAE1B;AAEf,wCAA2C,gBAAgB,MAAM,GAAG"}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file:///Users/felix/Documents/working/personal/finance-tracker/app/actions/transactions.ts"],"sourcesContent":["\"use server\";\n\nimport prisma from \"@/lib/prisma\";\nimport { revalidatePath } from \"next/cache\";\n\nexport async function getTransactions() {\n    const user = await prisma.user.findFirst();\n    if (!user) return [];\n\n    return await prisma.transaction.findMany({\n        where: { userId: user.id },\n        include: { account: true },\n        orderBy: { date: 'desc' }\n    });\n}\n\nexport async function createTransaction(data: {\n    amount: number;\n    type: \"INCOME\" | \"EXPENSE\";\n    category: string;\n    accountId: string;\n    note?: string;\n    isHidden?: boolean;\n}) {\n    const user = await prisma.user.findFirst();\n    if (!user) throw new Error(\"User not found\");\n\n    // 1. Create Transaction\n    await prisma.transaction.create({\n        data: {\n            userId: user.id,\n            accountId: data.accountId,\n            amount: data.amount,\n            type: data.type,\n            category: data.category,\n            note: data.note,\n            isHidden: data.isHidden || false,\n        }\n    });\n\n    // 2. Update Account Balance\n    const account = await prisma.account.findUnique({ where: { id: data.accountId } });\n    if (account) {\n        const newBalance = data.type === 'INCOME'\n            ? Number(account.balance) + data.amount\n            : Number(account.balance) - data.amount;\n\n        await prisma.account.update({\n            where: { id: data.accountId },\n            data: { balance: newBalance }\n        });\n    }\n\n    revalidatePath(\"/transactions\");\n    revalidatePath(\"/wallets\");\n    revalidatePath(\"/\");\n    return { success: true };\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;;;;;AAEO,eAAe;IAClB,MAAM,OAAO,MAAM,wHAAM,CAAC,IAAI,CAAC,SAAS;IACxC,IAAI,CAAC,MAAM,OAAO,EAAE;IAEpB,OAAO,MAAM,wHAAM,CAAC,WAAW,CAAC,QAAQ,CAAC;QACrC,OAAO;YAAE,QAAQ,KAAK,EAAE;QAAC;QACzB,SAAS;YAAE,SAAS;QAAK;QACzB,SAAS;YAAE,MAAM;QAAO;IAC5B;AACJ;AAEO,eAAe,kBAAkB,IAOvC;IACG,MAAM,OAAO,MAAM,wHAAM,CAAC,IAAI,CAAC,SAAS;IACxC,IAAI,CAAC,MAAM,MAAM,IAAI,MAAM;IAE3B,wBAAwB;IACxB,MAAM,wHAAM,CAAC,WAAW,CAAC,MAAM,CAAC;QAC5B,MAAM;YACF,QAAQ,KAAK,EAAE;YACf,WAAW,KAAK,SAAS;YACzB,QAAQ,KAAK,MAAM;YACnB,MAAM,KAAK,IAAI;YACf,UAAU,KAAK,QAAQ;YACvB,MAAM,KAAK,IAAI;YACf,UAAU,KAAK,QAAQ,IAAI;QAC/B;IACJ;IAEA,4BAA4B;IAC5B,MAAM,UAAU,MAAM,wHAAM,CAAC,OAAO,CAAC,UAAU,CAAC;QAAE,OAAO;YAAE,IAAI,KAAK,SAAS;QAAC;IAAE;IAChF,IAAI,SAAS;QACT,MAAM,aAAa,KAAK,IAAI,KAAK,WAC3B,OAAO,QAAQ,OAAO,IAAI,KAAK,MAAM,GACrC,OAAO,QAAQ,OAAO,IAAI,KAAK,MAAM;QAE3C,MAAM,wHAAM,CAAC,OAAO,CAAC,MAAM,CAAC;YACxB,OAAO;gBAAE,IAAI,KAAK,SAAS;YAAC;YAC5B,MAAM;gBAAE,SAAS;YAAW;QAChC;IACJ;IAEA,IAAA,+IAAc,EAAC;IACf,IAAA,+IAAc,EAAC;IACf,IAAA,+IAAc,EAAC;IACf,OAAO;QAAE,SAAS;IAAK;AAC3B;;;IApDsB;IAWA;;AAXA,+OAAA;AAWA,+OAAA"}},
    {"offset": {"line": 99, "column": 0}, "map": {"version":3,"sources":["file:///Users/felix/Documents/working/personal/finance-tracker/app/actions/wallets.ts"],"sourcesContent":["\"use server\";\n\nimport prisma from \"@/lib/prisma\";\nimport { revalidatePath } from \"next/cache\";\n\nexport async function getWallets() {\n    // For now, fetching all accounts. In real app, filter by auth user\n    // const session = await auth();\n    // const userId = session.user.id;\n\n    // Mocking a default user for development\n    let user = await prisma.user.findFirst();\n    if (!user) {\n        user = await prisma.user.create({\n            data: {\n                email: \"demo@example.com\",\n                name: \"Demo User\",\n            }\n        });\n    }\n\n    return await prisma.account.findMany({\n        where: { userId: user.id },\n        orderBy: { createdAt: 'desc' }\n    });\n}\n\nexport async function createWallet(formData: FormData) {\n    const name = formData.get(\"name\") as string;\n    const balance = parseFloat(formData.get(\"balance\") as string);\n    const currency = formData.get(\"currency\") as string;\n    const type = formData.get(\"type\") as \"WALLET\" | \"BANK\";\n\n    const user = await prisma.user.findFirst();\n    if (!user) throw new Error(\"User not found\");\n\n    await prisma.account.create({\n        data: {\n            userId: user.id,\n            name,\n            balance,\n            currency,\n            type,\n        }\n    });\n\n    revalidatePath(\"/wallets\");\n    return { success: true };\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;;;;;AAEO,eAAe;IAClB,mEAAmE;IACnE,gCAAgC;IAChC,kCAAkC;IAElC,yCAAyC;IACzC,IAAI,OAAO,MAAM,wHAAM,CAAC,IAAI,CAAC,SAAS;IACtC,IAAI,CAAC,MAAM;QACP,OAAO,MAAM,wHAAM,CAAC,IAAI,CAAC,MAAM,CAAC;YAC5B,MAAM;gBACF,OAAO;gBACP,MAAM;YACV;QACJ;IACJ;IAEA,OAAO,MAAM,wHAAM,CAAC,OAAO,CAAC,QAAQ,CAAC;QACjC,OAAO;YAAE,QAAQ,KAAK,EAAE;QAAC;QACzB,SAAS;YAAE,WAAW;QAAO;IACjC;AACJ;AAEO,eAAe,aAAa,QAAkB;IACjD,MAAM,OAAO,SAAS,GAAG,CAAC;IAC1B,MAAM,UAAU,WAAW,SAAS,GAAG,CAAC;IACxC,MAAM,WAAW,SAAS,GAAG,CAAC;IAC9B,MAAM,OAAO,SAAS,GAAG,CAAC;IAE1B,MAAM,OAAO,MAAM,wHAAM,CAAC,IAAI,CAAC,SAAS;IACxC,IAAI,CAAC,MAAM,MAAM,IAAI,MAAM;IAE3B,MAAM,wHAAM,CAAC,OAAO,CAAC,MAAM,CAAC;QACxB,MAAM;YACF,QAAQ,KAAK,EAAE;YACf;YACA;YACA;YACA;QACJ;IACJ;IAEA,IAAA,+IAAc,EAAC;IACf,OAAO;QAAE,SAAS;IAAK;AAC3B;;;IA3CsB;IAsBA;;AAtBA,+OAAA;AAsBA,+OAAA"}},
    {"offset": {"line": 167, "column": 0}, "map": {"version":3,"sources":["file:///Users/felix/Documents/working/personal/finance-tracker/.next-internal/server/app/transactions/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {getTransactions as '00c2d8a3ee975fbadaff6c82463f7a9fcd4b22372f'} from 'ACTIONS_MODULE0'\nexport {createTransaction as '40d664c3a880bfd3a1742d8492f966625b078eab86'} from 'ACTIONS_MODULE0'\nexport {getWallets as '0006a7ea2b53118f7a7709a5e5557c258a6e4ec778'} from 'ACTIONS_MODULE1'\nexport {createWallet as '4091b52537d50ebc89f3b907ddaf8b7cf4bf459d72'} from 'ACTIONS_MODULE1'\nexport {createTransaction as '40d664c3a880bfd3a1742d8492f966625b078eab86'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA;AAEA"}}]
}